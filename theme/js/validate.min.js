/**
* @midkard/formvalidate v1.5.0
*/
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)i.d(n,l,function(t){return e[t]}.bind(null,l));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";i.r(t);var n=i(0),l=i.n(n);var a,s={rules:[{el:".required",rule:"required"},{el:".inp, .valid_phone",rule:"valid_phone"},{el:".valid_international",rule:"valid_international"},{el:'[name="name1"], .valid_name',rule:"alpha|min_length[2]"},{el:'[name="email1"], [name="email"], .valid_email',rule:"valid_email"},{el:".agreement",rule:"agreement"},{el:"input[type=file]",rule:"max_size|extension"}],ruleRegex:/^(.+?)\[(.+)]$/,numericRegex:/^[0-9]+$/,emailRegex:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,alphaRegex:/^[а-яё ]*$/i,phoneRegex:/^\+7\(\d{3}\) \d{3}-\d{2}-\d{2}$/,messages:{required:"Пожалуйста, заполните поле.",valid_email:"Введите корректный email.",valid_phone:"Введите корректный номер телефона.",alpha:"Это поле может содержать только буквы русского алфавита.",min_length:"Поле должно содержать не менее %s символов.",extension:"Данный тип файлов не допускается",max_size:"Превышен предельный размер файлов"},popupRender:'<div id="modal-not-agreement">                    <div class="icon">                            <svg viewBox="0 0 22 22"><path d="M.35.35,21.82,21.82"/><path d="M21.82.35.35,21.82"/></svg>                    </div>                    <h2>Внимание!</h2>                    <p>Вы не согласились с нашей <a href="{privacy}" >политикой конфиденциальности</a>. По Закону, мы не имеем права получать ваши контакты.</p>                    <div class="button">                            <button class="confirm btn"><span>Согласиться с политикой</span></button>                    </div>            </div>',overlayRender:'<div id="modal-not-agreement__overlay"></div>',hideLabels:!0,validateOnBlur:!0,privacy:"/privacy-policy/"},r=function(e){this.popup=l()(e.popupRender.replace("{privacy}",e.privacy)).appendTo("body"),this.overlay=l()(e.overlayRender).appendTo("body"),this.checkbox=null;var t=this;this.popup.find(".confirm").click((function(){t.checkbox.prop("checked",!0),t.checkbox.change(),t.hide()}))};l.a.extend(r.prototype,{show:function(e){this.checkbox=e,this.overlay.fadeIn(),this.popup.fadeIn()},hide:function(){this.overlay.fadeOut(),this.popup.fadeOut()}});var o=function(e,t,i){this.elem=e,this.rules=t,this.validator=i,this.opts=i.opts,this.value=null,this.oldValue="",this.rules&&(this.erElem=null,this.tipElem=null,this.required=-1!==t.indexOf("required")),this.$placeholder=null,l()(this.elem).siblings("label").length&&(this.$placeholder=l()(this.elem).siblings("label"));var n=!0;Object.defineProperty(this,"valid",{get:function(){return n},set:function(e){e!==n&&(n=e,this.validator._checkButtons())}}),this._validate(!0);var a=this;this.rules&&(e.on("change completed",(function(){a._validate()})),this.opts.validateOnBlur&&e.on("blur",(function(){a._validate()})),e.on("input keypress keydown paste",(function(){a._validate(!0)}))),t&&~t.indexOf("alpha")&&(e.on("input",(function(){a._testInput()})),e.on("focusout",(function(){a._tip(!0)}))),t&&~t.indexOf("valid_phone")&&(a._transformToPhone(),e.on("input",(function(){a._transformToPhone()}))),t&&~t.indexOf("valid_international")&&(a._transformToInternational(),e.on("input",(function(){a._transformToInternational()}))),this.$placeholder&&(a._placeholder(),e.on("focusin input",(function(){a._placeholder("focusin")})),e.on("focusout",(function(){a._placeholder("focusout")})))};l.a.extend(o.prototype,{_validate:function(e){if(e=e||!1,!this.rules)return!0;if("stopvalidation"===this.elem.attr("data-validation"))return this.valid=!0,this.value=null,this._removeError(),!0;if(!e||this.value!==("file"===this.elem[0].type?this.elem[0].files:this.elem.val())){var t,i,n=this.rules.split("|"),l=!this.elem.val(),a=[];for(this.value="file"===this.elem[0].type?this.elem[0].files:this.elem.val(),t=0,i=n.length;t<i;t++){var s=n[t],r=null,o=!1,h=this.opts.ruleRegex.exec(s);if(l&&!this.required)break;if((!l||-1!==["required","agreement"].indexOf(s))&&(h&&(s=h[1],r=h[2]),"!"===s.charAt(0)&&(s=s.substring(1,s.length)),"function"==typeof this._hooks[s]&&(this._hooks[s].apply(this,[r])||(o=!0)),o)){var u=this.elem.data(s);u||(u=this.opts.messages[s]),r&&(u=u.replace("%s",r)),a.push(u)}}return a.length?(e||this._setError(a),this.valid=!1,this.elem.attr("data-validation","invalid")):(this._removeError(),this.valid=!0,this.elem.attr("data-validation","valid")),this.valid}},_testInput:function(){this.value=this.elem.val(),this._hooks.alpha.apply(this)?(this.oldValue=this.value,this._tip(!0)):(this.elem.val(this.oldValue),this._tip())},_tip:function(e){e=e||!1;var t=this.opts.messages.alpha;e?this.tipElem&&(this.tipElem.remove(),this.tipElem=null):this.tipElem||(this.tipElem=l()('<span class="message-tooltip">'+t+"</span>").insertAfter(this.elem))},_transformToPhone:function(){var e=this.elem.val();if(e)if((e=e.replace(/\D/g,"")).length){"7"!==e[0]&&"8"!==e[0]||(e=e.slice(1));var t="+7(",i=[e.slice(0,3),e.slice(3,6),e.slice(6,8),e.slice(8,10)];(i=i.filter((function(e){return""!==e}))).forEach((function(e,i){1===i&&(t+=") "),i>1&&(t+="-"),t+=e})),this.elem.val(t),this._validate(!0)}else this.elem.val("")},_transformToInternational:function(){var e=this.elem.val();if(!e)return;if(!(e=e.replace(/\D/g,"")).length)return void this.elem.val("");let t="+"+e;this.elem.val(t),this._validate(!0)},_placeholder:function(e){var t=!this.elem.val();e=e||"focusout",this.opts.hideLabels&&("focusout"===e&&t?this.$placeholder.removeClass("label-none"):this.$placeholder.addClass("label-none"))},_setError:function(e){this.erElem?this.erElem.html(e.join(" ")):-1===this.rules.indexOf("agreement")&&(this.erElem=l()('<span class="message-error">'+e.join(" ")+"</span>").insertAfter(this.elem)),this.elem.addClass("error"),this.elem.removeClass("correctly")},_removeError:function(){this.erElem&&(this.erElem.remove(),this.erElem=null,this.elem.addClass("correctly"),this.elem.removeClass("error"))},_hooks:{required:function(){var e=this.elem[0].type;return"checkbox"===e||"radio"===e?!0===this.elem[0].checked:!!this.value},valid_email:function(){return this.opts.emailRegex.test(this.value)},valid_phone:function(){return this.opts.phoneRegex.test(this.value)},min_length:function(e){return!!this.opts.numericRegex.test(e)&&this.value.length>=parseInt(e,10)},alpha:function(){return this.opts.alphaRegex.test(this.value)},agreement:function(){var e,t=this.elem[0].type;if("checkbox"===t||"radio"===t){var i=!0===this.elem[0].checked;return i||(e=this.opts,a||(a=new r(e)),a).show(this.elem),i}return!!this.value},extension:function(){let e;if(!this.elem.data("validationExt"))return!0;e=this.elem.data("validationExt").split(",").map((function(e){return e.trim()}));for(let t=0;t<this.value.length;t++){let i=this.value[t].name.slice(this.value[t].name.lastIndexOf(".")+1);if(!~e.indexOf(i))return!1}return!0},max_size:function(){let e;if(console.log(this.value),!this.elem.data("validationMaxSizeMb"))return!0;if(e=parseFloat(this.elem.data("validationMaxSizeMb")),isNaN(e)||!isFinite(e))return!0;e=1024*e*1024;let t=0;for(let i=0;i<this.value.length;i++)if(t+=this.value[i].size,console.log(t),t>e)return!1;return!0}}});var h=o,u=function(e,t){this.form=e,this.allRules=t.rules,this.opts=t,this.buttons=[],this.fields=[];for(var i=0;i<e.elements.length;i++)if("submit"!==e.elements[i].type){var n=l()(e.elements[i]),a=this._genElemRules(n);a.length?this.fields.push(new h(n,a.join("|"),this)):this.fields.push(new h(n,null,this))}else this.buttons.push(e.elements[i]);this._checkButtons(),l()(e).submit(l.a.proxy(this,"_validateForm"))};l.a.extend(u.prototype,{_genElemRules:function(e){for(var t={},i=[],n=0;n<this.allRules.length;n++)e.is(this.allRules[n].el)&&(t[this.allRules[n].rule]=!0);for(var l in t)i.push(l);return i},_validateForm:function(e){for(var t=!1,i=0;i<this.fields.length;i++){this.fields[i]._validate()||(t=!0)}return t&&(e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),e.stopImmediatePropagation()),!0},_checkButtons:function(){for(var e=!1,t=0;t<this.fields.length;t++){this.fields[t].valid||(e=!0)}if(e)for(t=0;t<this.buttons.length;t++)this.buttons[t].classList.add("disabled");else for(t=0;t<this.buttons.length;t++)this.buttons[t].classList.remove("disabled")}});var c=u;!function(){if(l()("label.agreement-label .check").click((function(e){e.preventDefault();var t=l()(this).siblings("input"),i=!t.prop("checked");t.prop("checked",i),t.change()})),l.a.fancybox){var e=l.a.fancybox.defaults.clickContent;l.a.fancybox.defaults.clickContent=function(t,i){t.$content[0].contains(document.activeElement)&&document.activeElement.blur(),e(t,i)}}}(),l.a.fn.validate=function(e){if(this.length)return e=l.a.extend(!0,{},s,e),this.each((function(){var t=l()(this).data("validator");t||(l()(this).find("span.add-textarea").click((function(){l()(this).toggleClass("opened")})),t=new c(this,e),l()(this).data("validator",t))})),this}}]);